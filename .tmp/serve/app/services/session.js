(function() {
  var module;

  module = function($resource, BASE_ENDPOINT, $http) {
    var Session;
    Session = $resource(BASE_ENDPOINT + "/auth", null, {
      register: {
        method: 'POST',
        url: BASE_ENDPOINT + "/auth/sign_up"
      },
      login: {
        method: 'POST',
        url: BASE_ENDPOINT + "/auth/log_in"
      },
      logout: {
        method: 'DELETE',
        url: BASE_ENDPOINT + "/auth/log_out"
      }
    });
    Session.setSession = function(data) {
      localStorage.setItem("access_token", data.access_token);
      localStorage.setItem("user_id", data.user_id);
      return Session.setHeaders(data);
    };
    Session.setHeaders = function(data) {
      return $http.defaults.headers.common.AccessToken = localStorage.getItem('access_token') || null;
    };
    return Session;
  };

  angular.module('client').factory('Session', module);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZXMvc2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXMiOlsic2VydmljZXMvc2Vzc2lvbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxTQUFDLFNBQUQsRUFBVyxhQUFYLEVBQXlCLEtBQXpCO0FBRVAsUUFBQTtJQUFBLE9BQUEsR0FBVSxTQUFBLENBQWEsYUFBRCxHQUFlLE9BQTNCLEVBQW1DLElBQW5DLEVBQ1I7TUFDRSxRQUFBLEVBQ0U7UUFBQSxNQUFBLEVBQVEsTUFBUjtRQUNBLEdBQUEsRUFBUSxhQUFELEdBQWUsZUFEdEI7T0FGSjtNQUlFLEtBQUEsRUFDRTtRQUFBLE1BQUEsRUFBUSxNQUFSO1FBQ0EsR0FBQSxFQUFRLGFBQUQsR0FBZSxjQUR0QjtPQUxKO01BT0UsTUFBQSxFQUNFO1FBQUEsTUFBQSxFQUFRLFFBQVI7UUFDQSxHQUFBLEVBQVEsYUFBRCxHQUFlLGVBRHRCO09BUko7S0FEUTtJQWNWLE9BQU8sQ0FBQyxVQUFSLEdBQW9CLFNBQUMsSUFBRDtNQUNsQixZQUFZLENBQUMsT0FBYixDQUFxQixjQUFyQixFQUFxQyxJQUFJLENBQUMsWUFBMUM7TUFDQSxZQUFZLENBQUMsT0FBYixDQUFxQixTQUFyQixFQUFnQyxJQUFJLENBQUMsT0FBckM7YUFDQSxPQUFPLENBQUMsVUFBUixDQUFtQixJQUFuQjtJQUhrQjtJQUtwQixPQUFPLENBQUMsVUFBUixHQUFvQixTQUFDLElBQUQ7YUFDbEIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQTlCLEdBQTRDLFlBQVksQ0FBQyxPQUFiLENBQXFCLGNBQXJCLENBQUEsSUFBd0M7SUFEbEU7V0FLcEI7RUExQk87O0VBNEJULE9BQU8sQ0FBQyxNQUFSLENBQWUsUUFBZixDQUF3QixDQUFDLE9BQXpCLENBQWlDLFNBQWpDLEVBQTRDLE1BQTVDO0FBNUJBIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gKCRyZXNvdXJjZSxCQVNFX0VORFBPSU5ULCRodHRwKS0+XG5cbiAgU2Vzc2lvbiA9ICRyZXNvdXJjZSBcIiN7QkFTRV9FTkRQT0lOVH0vYXV0aFwiLCBudWxsLFxuICAgIHtcbiAgICAgIHJlZ2lzdGVyOlxuICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgICB1cmw6IFwiI3tCQVNFX0VORFBPSU5UfS9hdXRoL3NpZ25fdXBcIlxuICAgICAgbG9naW46XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICAgIHVybDogXCIje0JBU0VfRU5EUE9JTlR9L2F1dGgvbG9nX2luXCJcbiAgICAgIGxvZ291dDpcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgICB1cmw6IFwiI3tCQVNFX0VORFBPSU5UfS9hdXRoL2xvZ19vdXRcIlxuICAgIH1cblxuXG4gIFNlc3Npb24uc2V0U2Vzc2lvbiA9KGRhdGEpLT5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImFjY2Vzc190b2tlblwiLCBkYXRhLmFjY2Vzc190b2tlbilcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJfaWRcIiwgZGF0YS51c2VyX2lkKVxuICAgIFNlc3Npb24uc2V0SGVhZGVycyhkYXRhKVxuXG4gIFNlc3Npb24uc2V0SGVhZGVycyA9KGRhdGEpLT5cbiAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2Nlc3NUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKSB8fCBudWxsXG4gICAgIyAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5Vc2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpIHx8IG51bGxcblxuXG4gIFNlc3Npb25cblxuYW5ndWxhci5tb2R1bGUoJ2NsaWVudCcpLmZhY3RvcnkoJ1Nlc3Npb24nLCBtb2R1bGUpXG4iXX0=
